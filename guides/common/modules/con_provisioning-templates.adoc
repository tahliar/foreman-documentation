[id="provisioning-templates_{context}"]
= Provisioning Templates

A provisioning template defines the way {ProjectServer} installs an operating system on a host.

{ProjectName} includes many template examples. In the {Project} web UI, navigate to *Hosts* > *Provisioning templates* to view them. You can create a template or clone a template and edit the clone. For help with templates, navigate to *Hosts* > *Provisioning templates* > *Create Template* > *Help*.

Templates accept the Embedded Ruby (ERB) syntax. For more information, see {BaseURL}managing_hosts/appe-red_hat_satellite-managing_hosts-template_writing_reference[Template Writing Reference] in _Managing Hosts_.

You can download provisioning templates. Before you can download the template, you must create a debug certificate. For more information, see {BaseURL}content_management_guide/managing_organizations#Managing_Organizations-Creating_an_Organization_Debug_Certificate[Creating an Organization Debug Certificate] in the _Content Management Guide_.

You can synchronize templates between {ProjectServer} and a Git repository or a local directory. For more information, see {BaseURL}managing_hosts/synchronizing_templates_repositories[Synchronizing Templates Repositories] in the _Managing Hosts_ guide.

.Change logs and history

To view the history of changes applied to a template, navigate to *Hosts* > *Provisioning templates*, select one of the templates, and click *History*. Click *Revert* to override the content with the previous version. You can also revert to an earlier change. Click *Show Diff* to see information about a specific change:

* The *Template Diff* tab displays changes in the body of a provisioning template.
* The *Details* tab displays changes in the template description.
* The *History* tab displays the user who made a change to the template and date of the change.

.Types of Provisioning Templates

There are various types of provisioning templates:

*Provision*

The main template for the provisioning process. For example, a kickstart template. For more information about kickstart template syntax, see the https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/sect-kickstart-syntax.html[Kickstart Syntax Reference] in the _Red Hat Enterprise Linux 7 Installation Guide_.

*PXELinux*, *PXEGrub*, *PXEGrub2*

PXE-based templates that deploy to the template {SmartProxy} associated with a subnet to ensure that the host uses the installer with the correct kernel options. For BIOS provisioning, select *PXELinux* template. For UEFI provisioning, select *PXEGrub2*.

*Finish*

Post-configuration scripts to execute using an SSH connection when the main provisioning process completes. You can use Finishing templates only for imaged-based provisioning in virtual or cloud environments that do not support user_data. Do not confuse an image with a foreman discovery ISO, which is sometimes called a Foreman discovery image. An image in this context is an install image in a virtualized environment for easy deployment.

When a finish script successfully exits with the return code `0`, {ProjectName} treats the code as a success and the host exits the build mode. Note that there are a few finish scripts with a build mode that uses a _call back_ HTTP call. These scripts are not used for image-based provisioning, but for post configuration of operating-system installations such as Debian, Ubuntu, and BSD.

*user_data*

Post-configuration scripts for providers that accept custom data, also known as seed data. You can use the user_data template to provision virtual machines in cloud or virtualised environments only. This template does not require {Project} to be able to reach the host; the cloud or virtualization platform is responsible for delivering the data to the image.

Ensure that the image that you want to provision has the software to read the data installed and set to start during boot. For example, `cloud-init`, which expects YAML input, or `ignition`, which expects JSON input.

*cloud_init*

Some environments, such as VMWare, either do not support custom data or have their own data format that limits what can be done during customization. In this case, you can configure a cloud-init client with the `foreman` plug-in, which attempts to download the template directly from {Project} over HTTP or HTTPS. This technique can be used in any environment, preferably virtualized.

Ensure that you meet the following requirements to use the `cloud_init` template:

* Ensure that the image that you want to provision has the software to read the data installed and set to start during boot.
* A provisioned host is able to reach {Project} from the IP address that matches the host's provisioning interface IP.

Note that cloud-init does not work behind NAT.

*Bootdisk*

Templates for PXE-less boot methods.

*Kernel Execution (kexec)*

Kernel execution templates for PXE-less boot methods.

ifeval::["{build}" == "satellite"]
[NOTE]
====
Kernel Execution is a Technology Preview feature. Technology Preview features are not fully supported under Red Hat Subscription Service Level Agreements (SLAs), may not be functionally complete, and are not intended for production use. However, these features provide early access to upcoming product innovations, enabling customers to test functionality and provide feedback during the development process.
====
endif::[]

*Script*

An arbitrary script not used by default but useful for custom tasks.

*ZTP*

Zero Touch Provisioning templates.

*POAP*

PowerOn Auto Provisioning templates.

*iPXE*

Templates for `iPXE` or `gPXE` environments to use instead of PXELinux.
